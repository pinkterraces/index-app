let pokemonRepository=function(){let e=[];function t(t){'object'==typeof t?e.push(t):console.log('Only objects can be added to the Pokemon Repository')}function n(){return e}function i(){document.querySelector('#modal-container').classList.remove('is-visible')}function o(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.weight=t.weight}).catch(function(e){console.error(e)})}return window.addEventListener('keydown',e=>{let t=document.querySelector('#modal-container');'Escape'===e.key&&t.classList.contains('is-visible')&&i()}),{add:t,getAll:n,addListItem:function e(t){o(t).then(function(){let e=document.querySelector('.pokemon-list'),n=document.createElement('li');n.classList.add('list-item');let a=document.createElement('div');a.classList.add('pokemon-card');let l=document.createElement('img');l.classList.add('pokemon-img-card'),l.setAttribute('src',`${t.imageUrlFront}`),l.setAttribute('width','100'),l.setAttribute('alt','Picture of front of the pokemon');let r=document.createElement('button');r.innerText=t.name,r.classList.add('pokemon-list__button'),n.appendChild(a),a.appendChild(l),a.appendChild(r),e.appendChild(n),document.querySelector('.pokemon-list :first-child').classList.add('focus-pokemon'),r.addEventListener('click',function(){(function e(t){o(t).then(function(){let e=document.querySelector('#modal-container');e.innerHTML='';let n=document.createElement('div');n.classList.add('modal');let o=document.createElement('button');o.classList.add('modal-close-button'),o.innerText='Close',o.addEventListener('click',i);let a=document.createElement('h1');a.classList.add('modal-title'),a.innerText=`${t.name||'?'}`.capitalize();let l=document.createElement('p');l.innerText=`Height: ${t.height||'?'}`;let r=document.createElement('p');r.innerText=`Weight: ${t.weight||'?'}`;let s=document.createElement('div');s.classList.add('modal-images');let c=document.createElement('img');c.classList.add('pokemon-img-modal'),c.setAttribute('src',`${t.imageUrlFront}`),c.setAttribute('alt','Picture of front of the pokemon');let d=document.createElement('img');d.classList.add('pokemon-img-modal','pokemon-img-modal-back'),d.setAttribute('src',`${t.imageUrlBack}`),d.setAttribute('alt','Picture of back of the pokemon'),n.appendChild(o),n.appendChild(a),n.appendChild(s),s.appendChild(c),s.appendChild(d),n.appendChild(l),n.appendChild(r),e.append(n),e.classList.add('is-visible'),e.addEventListener('click',t=>{t.target===e&&i()})})})(t)})})},loadList:function e(){return fetch('https://pokeapi.co/api/v2/pokemon/?limit=150').then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name.capitalize(),detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),Object.defineProperty(String.prototype,'capitalize',{value:function(){return this.charAt(0).toUpperCase()+this.slice(1)},enumerable:!1});